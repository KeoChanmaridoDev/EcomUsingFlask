{% extends 'front/master.html' %}

{% block content %}
<main class="pt-6 max-w-7xl mx-auto px-4 pb-16">
    <header class="mb-6">
      <h1 class="text-3xl font-extrabold">Your cart</h1>
      <p class="mt-1 text-sm text-gray-600">Review items, update quantities, and proceed to checkout.</p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <!-- Cart items column -->
      <section class="lg:col-span-2 bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
        <h2 class="text-lg font-semibold mb-4">Items</h2>

        <div id="cartList" class="space-y-4">
          <!-- JS-inserted list of cart items -->
        </div>

        <div id="emptyState" class="text-center py-10 text-gray-600 hidden">
          <div class="text-xl font-semibold">Your cart is empty</div>
          <p class="mt-2">Browse our products and add favorites to your cart.</p>
          <div class="mt-4">
            <a href="/shop" class="inline-block px-5 py-2 rounded bg-black text-white">Continue shopping</a>
          </div>
        </div>
      </section>

      <!-- Summary & checkout column -->
      <aside class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
        <h2 class="text-lg font-semibold mb-4">Order summary</h2>

        <div class="flex items-center justify-between text-sm text-gray-700">
          <div>Subtotal</div>
          <div id="summarySubtotal">$0.00</div>
        </div>

        <div class="flex items-center justify-between text-sm text-gray-700 mt-2">
          <div>Estimated tax</div>
          <div id="summaryTax">$0.00</div>
        </div>

        <div class="flex items-center justify-between text-sm text-gray-700 mt-2">
          <div>Shipping</div>
          <div id="summaryShipping">$5.00</div>
        </div>

        <div class="border-t border-gray-100 mt-4 pt-4 flex items-center justify-between">
          <div class="text-sm font-medium">Total</div>
          <div id="summaryTotal" class="text-xl font-bold">$0.00</div>
        </div>

        <div class="mt-6 space-y-3">
          <a href="{{ url_for('checkout') }}"><button id="checkoutBtn"  class="w-full cursor-pointer px-4 py-3 rounded bg-black text-white font-semibold">Checkout</button></a>
          <button id="clearCartBtn" class="w-full px-4 py-3 rounded border border-gray-300">Clear cart</button>
          <a href="/shop" class="block text-center text-sm text-gray-700 hover:underline">Continue shopping</a>
        </div>

        <div class="mt-4 text-xs text-gray-500">
          Secure checkout available â€” this demo uses a simulated checkout action.
        </div>
      </aside>
    </div>

    <!-- Recommended products -->
    <section class="mt-10">
      <h3 class="text-lg font-semibold mb-4">Recommended for you</h3>
      <div id="recommendGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
        <!-- JS-inserted recommended cards -->
      </div>
    </section>
  </main>
{% endblock %}
